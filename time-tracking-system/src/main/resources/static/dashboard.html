<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Employee Dashboard</title>

    <style>

        /* RESET */
        *{
        margin:0;
        padding:0;
        box-sizing:border-box;
        font-family:Segoe UI, sans-serif;
        color:#000;
        }

        /* BACKGROUND */
       body {
    min-height: 100vh;
    background:
      linear-gradient(
        rgba(255,255,255,0.2),
        rgba(255,255,255,0.2)
      ),
      url("/images/bg-blue.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;

    display: flex;
    justify-content: center;
    align-items: center;
}


        /* CENTER */
        body{
        display:flex;
        justify-content:center;
        align-items:center;
        padding:20px;
        }

        /* DASHBOARD */
        .dashboard{
        display:flex;
        gap:20px;
        width:100%;
        max-width:1400px;
        min-height:90vh;
        }

        /* LEFT PANEL */
        .left-panel{width:55%;display:flex;flex-direction:column;}
        .right-panel{width:45%;display:flex;flex-direction:column;}

        /* HEADER */
        .header{
        display:flex;
        justify-content:space-between;
        margin-bottom:20px;
        }

        .nav-btn,.logout{
        background:#e67e22;
        color:white;
        border:none;
        padding:10px 16px;
        border-radius:10px;
        cursor:pointer;
        margin-right:8px;
        }

        /* CARDS */
        .cards{
        display:grid;
        grid-template-columns:repeat(3,1fr);
        gap:15px;
        margin-bottom:20px;
        }

        .card{
        background:#fff3e0;
        padding:20px;
        border-radius:18px;
        }

        /* TRACKER */
        .tracker{
        background:#fff3e0;
        padding:25px;
        border-radius:25px;
        text-align:center;
        flex-grow:1;
        }

        .timer{
        font-size:48px;
        font-weight:bold;
        margin:15px 0;
        }

        .actions{
        display:flex;
        justify-content:center;
        gap:15px;
        margin-bottom:20px;
        }

        .actions button{
        padding:10px 18px;
        border:none;
        border-radius:8px;
        color:white;
        cursor:pointer;
        }

        .start{background:#f1c40f;}
        .stop{background:#e67e22;}
        .reset{background:#95a5a6;}

        /* TODAY INFO */
        .today-info{
        background:#ffe0b2;
        padding:12px;
        border-radius:10px;
        margin-bottom:15px;
        font-size:14px;
        }

        /* CALENDAR */
        .calendar{
        background:white;
        border-radius:12px;
        padding:10px;
        }

        .calendar h4{margin-bottom:8px;}

        .calendar table{
        width:100%;
        border-collapse:collapse;
        text-align:center;
        font-size:12px;
        }

        .calendar th,td{padding:6px;}

        .today{
        background:#e67e22;
        color:white;
        border-radius:50%;
        }

        /* TASK CARD */
        .task-card{
        background:#fff3e0;
        padding:25px;
        border-radius:25px;
        margin-bottom:20px;
        text-align:center;
        }

        .task-status{
        display:inline-block;
        padding:6px 14px;
        background:#e67e22;
        color:white;
        border-radius:20px;
        margin-top:10px;
        }

        /* TASK LIST */
        .task-list{
        background:#fff3e0;
        padding:25px;
        border-radius:25px;
        flex-grow:1;
        }

        .task-list ul{list-style:none;}

        .task-list li{
        padding:10px 0;
        border-bottom:1px solid #ddd;
        font-size:14px;
        }

        /* ADD TASK */
        .add-task{
        display:flex;
        gap:8px;
        margin-top:12px;
        }

        .add-task input,
        .add-task select{
        padding:8px;
        border-radius:6px;
        border:1px solid #ccc;
        }

        .add-task input{flex:2;}
        .add-task select{flex:1;}

        .add-task button{
        background:#e67e22;
        color:white;
        border:none;
        padding:8px 14px;
        border-radius:6px;
        }

        /* RESPONSIVE */
        @media(max-width:900px){
        .dashboard{flex-direction:column;}
        .left-panel,.right-panel{width:100%;}
        }

    </style>
</head>

<body>
<script>
    const token = localStorage.getItem("token");
    if (!token) {
        window.location.href = "/login.html";
    }

    function logout() {
        localStorage.removeItem("token");
        localStorage.removeItem("user");
        window.location.href = "/login.html";
    }
</script>
<script>
    function goToProfile() {
        window.location.href = "/profile.html";
    }
</script>
<script>
    function goToAddTime() {
        window.location.href = "/add-time.html";
    }
</script>


<div class="dashboard">

    <!-- LEFT -->
    <div class="left-panel">

        <div class="header">
            <h2>‚è± Time Tracking</h2>
            <div>
                <button class="nav-btn" onclick="goToProfile()">Profile</button>

                <button class="nav-btn" onclick="goToAddTime()">Add Time</button>


                <button class="logout" onclick="logout()">Logout</button>

            </div>
        </div>

        <div class="card">
            <h4>Today</h4>
            <p id="todayHours">--</p>
        </div>

        <div class="card">
            <h4>This Week</h4>
            <p id="weekHours">--</p>
        </div>

        <div class="card">
            <h4>This Month</h4>
            <p id="monthHours">--</p>
        </div>


        <!-- CURRENT SESSION -->
        <div class="tracker">

            <h3>Current Session</h3>

            <div class="today-info">
                üìÖ <span id="todayDate"></span> |
                <span id="dayType">Working Day</span>
            </div>

            <div class="timer" id="timer">00:00:00</div>

            <div class="actions">
<!--                /<button class="start" onclick="startWork()">Start</button>-->
<!--                <button class="stop" onclick="stopWork()">Stop</button>-->
                <button class="start" onclick="startTimer()">Start</button>
                <button class="stop" onclick="stopTimer()">Stop</button>

                <button class="reset" onclick="resetTimer()">Reset</button>
            </div>


            <!-- CALENDAR -->
            <div class="calendar">
                <h4 id="monthYear"></h4>
                <table id="calendarTable"></table>
            </div>

        </div>

    </div>

    <!-- RIGHT -->
    <div class="right-panel">

        <div class="task-card">
            <h3>Current Task</h3>
            <p><b>Project:</b> Website Redesign</p>
            <p><b>Task:</b> Build Login UI</p>
            <p><b>Deadline:</b> 25 Jan 2026</p>
            <span class="task-status">In Progress</span>
        </div>

        <div class="task-list">
            <h3>Assigned Tasks</h3>

            <ul id="taskUl">
                <li>‚úî Login Page<br><small>üìÖ 2026-01-20 | ‚ö° High</small></li>
                <li>‚úî Forgot Password<br><small>üìÖ 2026-01-22 | ‚ö° Medium</small></li>
                <li>‚è≥ Dashboard UI<br><small>üìÖ 2026-01-25 | ‚ö° High</small></li>
            </ul>

            <div class="add-task">
                <input id="newTask" placeholder="Task name">
                <input type="date" id="dueDate">
                <select id="priority">
                    <option>Low</option>
                    <option>Medium</option>
                    <option>High</option>
                </select>
                <button onclick="addTask()">Add</button>
            </div>

        </div>

    </div>

</div>

<script>

    /* TIMER */
    let seconds=0,interval=null;

    function updateTimer(){
    let h=String(Math.floor(seconds/3600)).padStart(2,'0');
    let m=String(Math.floor((seconds%3600)/60)).padStart(2,'0');
    let s=String(seconds%60).padStart(2,'0');
    timer.textContent=`${h}:${m}:${s}`;
    }

    function startTimer(){
    if(interval) return;
    interval=setInterval(()=>{seconds++;updateTimer();},1000);
    }

    function stopTimer(){
    clearInterval(interval);
    interval=null;
    }

    function resetTimer(){
    stopTimer();
    seconds=0;
    updateTimer();
    }

    /* ADD TASK */
    function addTask(){
    let name=newTask.value.trim();
    let date=dueDate.value;
    let pr=priority.value;

    if(name==="") return alert("Enter task name");

    let li=document.createElement("li");
    li.innerHTML=`‚è≥ ${name}<br><small>üìÖ ${date||"No date"} | ‚ö° ${pr}</small>`;
    taskUl.appendChild(li);

    newTask.value="";
    dueDate.value="";
    priority.value="Low";
    }

    /* TODAY DATE */
    const today=new Date();
    todayDate.textContent=today.toDateString();
    if(today.getDay()==0){
    dayType.textContent="Holiday";
    }

    /* CALENDAR */
    function buildCalendar(){
    const months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
    monthYear.textContent=months[today.getMonth()]+" "+today.getFullYear();

    let first=new Date(today.getFullYear(),today.getMonth(),1).getDay();
    let total=new Date(today.getFullYear(),today.getMonth()+1,0).getDate();

    let html="<tr><th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th></tr><tr>";

    for(let i=0;i<first;i++) html+="<td></td>";

    for(let d=1;d<=total;d++){
    let cls=(d===today.getDate())?"class='today'":"";
    html+=`<td ${cls}>${d}</td>`;
    if((d+first)%7===0) html+="</tr><tr>";
    }

    html+="</tr>";
    calendarTable.innerHTML=html;
    }
    buildCalendar();

</script>
<script src="/js/dashboard.js"></script>

</body>

</html>